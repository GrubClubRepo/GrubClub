@model SupperClub.Models.SupperClubModel




@section PageSpecificScripts {
    <script src="@Url.Content("~/Scripts/jquery.tmpl.js")" type="text/javascript"></script>
    <style>
        .hidden {
            display: none;
        }

        .shown {
            display: block;
        }
        .overlayNew {
            height: 100%;
            left: 0;
            position: absolute;
            top: 0px;
            width: 100%;
            z-index: 10000;
            opacity: 0;
            -moz-opacity: 0;
            filter: alpha(opacity=0);
            -webkit-transition: opacity 180ms ease-in-out;
            -moz-transition: opacity 180ms ease-in-out;
            -o-transition: opacity 180ms ease-in-out;
            transition: opacity 180ms ease-in-out;
        }

            .overlayNew.zoom {
                background: url(../content/images/overlay.png) no-repeat center center, url(../content/images/overlay_bg.png) center center;
            }
    </style>
    <script type="text/javascript">

    function _followChef(){

        $.ajax({
            type: "POST",
            url: '@Url.Action("FollowChef", "Host")',
            contentType: "application/json",
            dataType: "json",
            data: JSON.stringify({supperClubId: @Model.SupperClub.Id}),
            success: function(response) {
               // debugger;
                //alert(response.message);
                // $("#btnUnFollowChef").addClass("btn");
                // $("#btnFollowChef").removeClass("btn");
                $("#btnUnFollowChef").removeClass('hidden');
                $("#btnFollowChef").addClass('hidden');
                $(".message-popup-wraper .messages-popup").addClass("is-hidden"), $("#followMessage").clone().appendTo(".message-popup-wraper").addClass("is-active").delay(3100).queue(function () { $(this).remove() }), $(".messages-popup").on("click", function () { $(this).addClass("is-hidden") });
            

            },
            error: function(response) {
                alert(response.status);

            }
        });
    }
    function _unfollowChef(){
       // debugger;
        $.ajax({
            type: "POST",
            url: '@Url.Action("UnfollowChef", "Host")',
            contentType: "application/json",
            dataType: "json",
            data: JSON.stringify({supperClubId: @Model.SupperClub.Id}),
            success: function(response) {
                //debugger;
                //alert(response.message);
                // $("#btnFollowChef").addClass("btn");
                // $("#btnUnFollowChef").removeClass("btn");
                //$("#btnUnFollowChef")[0].style.display='none';
                //$("#btnFollowChef")[0].style.display='block';

                $("#btnUnFollowChef").addClass('hidden');
                $("#btnFollowChef").removeClass('hidden');
                $("#unfollowMessage").clone().appendTo(".message-popup-wraper").addClass("is-active").delay(3100).queue(function () {
                    $(this).remove()
                }),
        $(".messages-popup").on("click", function () { $(this).addClass("is-hidden") });

            },
            error: function(response) {
                alert(response.status);
            }
        });
    }

    function _addWishList(SupperClubId) {


        $.ajax({
            type: "POST",
            url: '@Url.Action("AddEventToFavourite", "Event")',
            contentType: "application/json",
            dataType: "json",

            data: JSON.stringify({eventId: SupperClubId}),
            success: function(response) {
                // alert(response.message);
                //   $(".message-popup-wraper .messages-popup").addClass("is-hidden"), $(".messages-popup--added").clone().appendTo(".message-popup-wraper").addClass("is-active").delay(3100).queue(function () { $(this).remove() }), $(".messages-popup").on("click", function () { $(this).addClass("is-hidden") });
                $(".message-popup-wraper .messages-popup").addClass("is-hidden"), $("#wishMessage").clone().appendTo(".message-popup-wraper").addClass("is-active").delay(3100).queue(function () { $(this).remove() }), $(".messages-popup").on("click", function () { $(this).addClass("is-hidden") });


            },
            error: function(response) {
                alert(response.status);
            }
        });

    }
    function _removeWishList(SupperClubId) {

        $.ajax({
            type: "POST",
            url: '@Url.Action("RemoveEventFromFavourite", "Event")',
            contentType: "application/json",
            dataType: "json",

            data: JSON.stringify({eventId: SupperClubId}),
            success: function(response) {
                //  alert(response.message);
                $("#removeWishMessage").clone().appendTo(".message-popup-wraper").addClass("is-active").delay(3100).queue(function () {
                    $(this).remove()
                }),
              $(".messages-popup").on("click", function () { $(this).addClass("is-hidden") });
            },
            error: function(response) {
                alert(response.status);
            }
        });

    }
    function _addWS(eventId)
    {
        _addWishList(eventId);
        $("#divRmWs_"+ eventId.toString()).removeClass('hidden');
        $("#divAddWs_" + eventId.toString()).addClass('hidden');
        return false;
    }

    function _removeWS(eventId)
    {
        _removeWishList(eventId);
        $("#divRmWs_"+ eventId.toString()).addClass('hidden');
        $("#divAddWs_" + eventId.toString()).removeClass('hidden');
        return false;
    }
    var futureEvents;
    var pastEvents;
    var futureEventpageNumber = 1;
    var pastEventpageNumber = 1;
    var privateEvents;
    var privateEventPageNumber=1;
    var cancelEvents;
    var cancelEventsPageNumeber=1;
    var newEvents;
    var newEventsPageNumber=1;
    var pageSize = 4;
    var isInt = false;
    var futureEventsCount=0;
    var pastEventsCount = 0;
    var privateEventsCount=0;
    var cancelEventsCount=0;
    var newEventsCount=0;
    var reviews;
    var reviewspageNumber = 1;
    var reviewsCount = 0;

    function initialize()
    {  
        var mapCenter = new google.maps.LatLng(futureEvents[0].Lattitude.ToString("F3"),futureEvents[0].Longitude.ToString("F3"))
        var mapOptions = {
            zoom: 13,
            maxZoom: 15,
            scrollwheel: true,
            zoomControl: true,
            streetViewControl: false,
            disableDefaultUI: false,
            panControl:true,
            center: mapCenter,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById('map-single-pin'), mapOptions);
        google.maps.event.addDomListener(window, 'load', initialize);
        var marker = new google.maps.Marker({
            map: map,
            position : new google.maps.LatLng(futureEvents[0].Lattitude.ToString("F3"), futureEvents[0].Longitude.ToString("F3")),
            title: ''
        });
        var circle = new google.maps.Circle({
            map: map,
            @Html.Raw(string.Format("radius: {0},", SupperClub.Code.ServerMethods.GoogleMapsCircleRadius))    // metres
            strokeWeight:1,
            strokeColor:'#AA0000',
            clickable: false,
            editable: false,
            fillColor: '#AA0000',
            fillOpacity: 0.2,
            strokeOpacity:0.1
        });
        circle.bindTo('center', marker, 'position');
        marker.setVisible(true);
    };




    $(document).ready(function () {

   
        $("#tabTab1").hide();
        var id = $("#SupperClubId")[0].value;
        $.ajax({
            type: "POST",
            url: '@Url.Action("LoadDefaultData", "Account")',
            contentType: "application/json",
            dataType: "json",
            data: JSON.stringify({supperClubId: id}),
            success: function (response) {
                
                futureEvents = response.futureEvents;
                futureEventsCount=response.futureEvents.length;
                pastEventsCount=response.pastEvents.length;
                pastEvents = response.pastEvents;
                privateEvents=response.privateEvents;
                privateEventsCount=response.privateEvents.length;
                cancelEvents=response.cancelEvents;
                cancelEventsCount=response.cancelEvents.length;
                newEvents=response.newEvents;
                newEventsCount=response.newEvents.length;
                reviews = response.reviews;
                reviewsCount = response.reviews.length;
                followers=response.followers;
                renderResults(futureEvents);
                //$("#DivFutureEvents").empty();
                //$('#EventTemplate').tmpl(futureEvents).appendTo($("#DivFutureEvents"));
            },
            error: function(response) {
                alert(response.status);
            }
        });

        $("#btnLoginSideBarBottom").click(function (e) {

            e.preventDefault();
            var _rurl = "@(SupperClub.Code.ServerMethods.ServerUrl + Model.SupperClub.UrlFriendlyName)";
            var tem = "@Url.Action("WishListEvent","Event")";
            var _url = encodeURIComponent(tem + "?eventId=" +@ViewBag.NextEventId  + "&rurl=" + _rurl);
            $("#RedirectURL").val(_url);
            $("#RedirectURL").val(_url); $('#login-dialog').load("@Url.Action("loginRegister", "account", new {})"+ "?returnUrl=" + _url);
            $("#btnLoginSideBarBottom_hid").click();
            //            $( $(this).attr("href") ).show();

        });

        $("#showMapLink").click(function () {
            initialize();
            //$("#map-canvas").addClass('type-small color-gray open-popup');
            //$("#map-canvas").dialog("open");
        });
        $("#btnFollowChef").click(function () {
            _followChef();



        });

        $("#addToWishList").click(function () {
            AddToWishList(@ViewBag.NextEventId)
            $("#removeFromWishList").removeClass('hidden');
            $("#addToWishList").addClass('hidden');
            return false;
        });

        $("#removeFromWishList").click(function () {
            RemoveFromWishList(@ViewBag.NextEventId);
            $("#removeFromWishList").addClass('hidden');
            $("#addToWishList").removeClass('hidden');
            return false;
        });


        $("#btnUnFollowChef").click(function () {
            _unfollowChef();

        });


        $("#btnLoginChefTab").click(function (e) {
            e.preventDefault();
            var _rurl = "@(SupperClub.Code.ServerMethods.ServerUrl + Model.SupperClub.UrlFriendlyName)";
            var tem = "@Url.Action("FollowChef","Host")";
            var _url = encodeURIComponent(tem + "?supperClubId=" + @Model.SupperClub.Id.ToString() + "&rurl=" + _rurl);
            $("#RedirectURL").val(_url); $('#login-dialog').load("@Url.Action("loginRegister", "account", new {})"+ "?returnUrl=" + _url);
            $( $(this).attr("href")).show();
        });
        $('#loginForm').submit(function(e) {
            e.preventDefault();
            var url = "@Url.Action("LogIn","Account")";
            var fu = $("#RedirectURL").val();
            $('#loginForm').prop('action', url + "?returnUrl=" + fu);
            $('#loginForm')[0].submit();
            return true;
        });

        $('#RegisterForm').submit(function(e) {
            e.preventDefault();
            var url = "@Url.Action("RegisterNew","Account")";
            var fu = $("#RedirectURL").val();
            $('#RegisterForm').prop('action', url + "?redirectURL=" + fu);
            $('#RegisterForm')[0].submit();
            return true;
        });

        $(".no-underline").click(function(e) {
            //debugger;
            //tryontabset(e.href)
        });



        function renderResults(result) {
            //debugger;
            futureEventpageNumber = 1;
            pastEventpageNumber = 1;
            reviewspageNumber = 1;
            //$('#ResultCount').val(result.SearchResultCount)
            $("#DivFutureEvents").empty(); 		 // Remove current
            var a = $("#DivFutureEvents");
            var b=  $("#DivPastEvents");
            var c = $("#DivReviews");
            var d=$("#DivPrivateEvents");
            var e= $("#DivCancelEvents");
            var f=$("#DivNewEvents");
            if (futureEvents.length > 0) {

                renderPagedResults(a, futureEventpageNumber, futureEvents);

            }
            else
            {
                $("#divUpcomingEvents").hide();
            }

            if (pastEvents.length > 0) {

                renderPagedResults(b, pastEventpageNumber, pastEvents);
            }
            else
            {
                // b.append("<p>No results to display</p>");
                $("#divPastEvents").hide();
            }

            //if (privateEvents.length > 0) {

            //    renderPagedResults(d, privateEventPageNumber, privateEvents);
            //}
            //else
            //{
            //    // b.append("<p>No results to display</p>");
            //    $("#divPrivateEvents").hide();
            //}
            if (cancelEvents.length > 0) {

                renderPagedResults(e, cancelEventsPageNumeber, cancelEvents);
                $("#RejectText").show();

            }
            else
            {
                // b.append("<p>No results to display</p>");
                $("#divCancelEvents").hide();
                $("#RejectText").hide();
            }
            if (newEvents.length > 0) {

                renderPagedResults(f, newEventsPageNumber, newEvents);
            }
            else
            {
                // b.append("<p>No results to display</p>");
                $("#divNewEvents").hide();
            }

            if (reviews.length > 0) {
                renderPagedResults(c, reviewspageNumber, reviews);
            }
            else
            {
                c.append("<p>No Reviews yet</p>");
            }

            if(followers.length > 0)
            {
                renderFollowers(followers);
            }

        }

        function renderFollowers(followers)
        {
            var  followtable=" <table>  <tr> <td style='width:25% !important;'>User Name</td>   <td>Email Id</td>  </tr>";
            for(var i=0;i< followers.length;i++)
            {
                followtable +="<tr><td>"+followers[i].UserName+"</td><td>"+followers[i].EmailId+"</td></tr>";

            }
            followtable +="</table>";

            $("#Followers").append(followtable);

        }

        function renderPagedResults(divResult, pageNumber, results) {
            //debugger;
            var currPage = pageNumber;
            var startIndex = (currPage - 1) * pageSize;
            var targetNum = (currPage) * pageSize;
            var toBeRenderedresult = [];
            for (var i = startIndex; i < targetNum && i < results.length; i++) {
                toBeRenderedresult.push(results[i]);
            }
            if (divResult[0].id == "DivReviews") {
                $('#ReviewTemplate').tmpl(toBeRenderedresult).appendTo(divResult);
            }
            else if(divResult[0].id == "DivFutureEvents")
            { 
               
                $('#EventTemplate').tmpl(toBeRenderedresult).appendTo(divResult);

            }
            else if(divResult[0].id == "DivPastEvents")
            {
                $('#PastEventTemplate').tmpl(toBeRenderedresult).appendTo(divResult);
            }
            else if(divResult[0].id == "DivPrivateEvents")
            {
                $('#EventTemplate').tmpl(toBeRenderedresult).appendTo(divResult);
            }
            else if(divResult[0].id == "DivCancelEvents")
            {
                //$('#EventTemplate').tmpl(toBeRenderedresult).appendTo(divResult);
                $('#PastEventTemplate').tmpl(toBeRenderedresult).appendTo(divResult);
            }
            else if(divResult[0].id == "DivNewEvents")
            {
                $('#EventTemplate').tmpl(toBeRenderedresult).appendTo(divResult);
            }
            if (divResult[0].id == "DivFutureEvents" ){
                showLoadMore($("#btnFutureLoadMorediv"), results.length, futureEventpageNumber)
                ++futureEventpageNumber;
            }
            else if (divResult[0].id == "DivPastEvents") {
                showLoadMore($("#btnPastLoadMorediv"), results.length, pastEventpageNumber)
                ++pastEventpageNumber;

            }
            else if (divResult[0].id == "DivPrivateEvents") {
                showLoadMore($("#btnPrivateLoadMorediv"), results.length, privateEventPageNumber)
                ++privateEventPageNumber;

            }
            else if (divResult[0].id == "DivCancelEvents") {
                showLoadMore($("#btnCancelLoadMorediv"), results.length, cancelEventsPageNumeber)
                ++cancelEventsPageNumeber;

            }
            else if (divResult[0].id == "DivNewEvents") {
                showLoadMore($("#btnNewLoadMorediv"), results.length, newEventsPageNumber)
                ++newEventsPageNumber;

            }
            else if (divResult[0].id = "DivReviews") {
                showLoadMore($("#btnReviewsLoadMorediv"), results.length, reviewspageNumber)
                ++reviewspageNumber;
            }
        }

        $("#btnFutureLoadMore").click(function () {
            
            renderPagedResults($("#DivFutureEvents"),futureEventpageNumber, futureEvents);

        });
        $("#btnPastLoadMore").click(function () {

            renderPagedResults($("#DivPastEvents"), pastEventpageNumber, pastEvents);

        });
        $("#btnPrivateLoadMore").click(function () {

            renderPagedResults($("#DivPrivateEvents"), privateEventPageNumber, privateEvents);

        });
        $("#btnCancelLoadMore").click(function () {

            renderPagedResults($("#DivCancelEvents"), cancelEventsPageNumeber, cancelEvents);

        });
        $("#btnNewLoadMore").click(function () {

            renderPagedResults($("#DivNewEvents"), newEventsPageNumber, newEvents);

        });
        $("#btnReviewLoadMore").click(function () {

            renderPagedResults($("#DivReviews"), reviewspageNumber, reviews);

        });

        $(".loginWishList").click(function (e) {

            
            var clkId = jQuery(this).attr("id");
            var eId = parseInt(clkId.split(" ")[0]);

            var _rurl = "@(SupperClub.Code.ServerMethods.ServerUrl + Model.SupperClub.UrlFriendlyName)";
            var tem = "@Url.Action("WishListEvent", "event")";
            var _url = encodeURIComponent(tem + "?eventId=" + eId.toString() + "&rurl=" + _rurl);
            $("#RedirectURL").val(_url); $('#login-dialog').load("@Url.Action("loginRegister", "account", new {})"+ "?returnUrl=" + _url);
            $( $(this).attr("href")).show();
                     

        });
        function showLoadMore(loadmorediv, resultcount, currentPageNumber ) {
            //debugger;
            var count = resultcount;//$('#FutreResultCount').val();
            var page = currentPageNumber;

            if (count > page * pageSize) {
                loadmorediv.css("display", "block");

                //$("#btnLoadMorediv").css("display", "block");
            }
            else {
                loadmorediv.css("display", "none");
                // $("#btnLoadMorediv").css("display", "none");
            }

        }

    });


    </script>
}


<input type="text" id="SupperClubId" value="@Model.SupperClub.Id" style="display:none;">

@*<div class="container mb+">
    <ul class="breadcrumbs list-inline list-inline--delimited pt-- mb">
        <li><a href="@(SupperClub.Code.ServerMethods.ServerUrl)">Home</a></li>
        <li><a href="@(SupperClub.Code.ServerMethods.ServerUrl + Model.SupperClub.UrlFriendlyName)" id="lnkChef">Host Profile</a></li>

    </ul>
</div>*@
<div class="container mb+">
    <div class="profile-head">
        <div class="justifize profile-head__links mt">
            <div class="justifize__box mb">
                <h1 class="type-light">Your Settings</h1>
            </div>
            <div class="justifize__box mb">              
                
                @*<div class="tooltip-wrap inline-block mr-">
                    <svg role="img" class="icon icon--22x22">
                        <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-edit"></use>
                    </svg>

                    <div class="tooltip p0 no-radius">
                        <a href="">Edit event (steps)</a>
                        <ul class="list-bare">
                            <li><a href="">Step 1</a></li>
                            <li><a href="">Step 2</a></li>
                            <li><a href="">Step 3</a></li>
                            <li><a href="">Step 4</a></li>
                            <li><a href="">Step 5</a></li>
                        </ul>
                    </div>
                </div>*@
                @*<a href="/host/Details1?supperClubId=@Model.SupperClub.Id" class="no-underline mr-">*@
                <a href="/@Model.SupperClub.UrlFriendlyName" class="no-underline mr-">
                    <span class="tooltip-wrap">
                        <svg role="img" class="icon icon--29x18">
                            <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-view"></use>
                        </svg>
                        <div class="tooltip tooltip--top">View Profile</div>
                    </span>
                </a>
                <a href="/Host/HostProfile?supperClubId=@Model.SupperClub.Id" class="no-underline mr-">
                    <span class="tooltip-wrap">
                        <svg role="img" class="icon icon--22x22">
                            <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-settings"></use>
                        </svg>
                        <div class="tooltip tooltip--top">Settings</div>
                    </span>
                </a>
                <a href="/host/welcome" class="btn btn--primary btn--radius btn--h44">Host a Grub Club</a>
            </div>
        </div>
        @*<div class="justifize mb-" style="margin-top:10px;">
            <div class="justifize__box mb">
                <span class="complete-line mr-" data-complete="85"><b></b></span>
                <span class='h6 type-semibold align-middle'>Your profile is <span>85</span>% complete.</span>
            </div>
            <div class="justifize__box mb">
                <a href="/host/welcome" class="btn btn--primary btn--radius btn--h44">Host a Grub Club</a>
            </div>
        </div>*@
        <hr class="hr hr--dots mb--">

    </div>
</div>
<div class="container">
    @Html.HiddenFor(m => m.RedirectURL)
    @Html.HiddenFor(m => m.SupperClub.DateCreated)
    <div class="bgr-white p" id="divMain">
        <div class="layout">
            <table>
                <tr>
                    <td class="layout__item large-and-up-1/1 mb">
                        <div>
                            <span class="h6 type-semibold align-middle">To enable your followers to book your Grub Clubs, you can use <a href="/@Model.SupperClub.UrlFriendlyName" style="color:blue;">this link</a> in all your Social Media, Blog, emails and other Promotional Materials</span>
                        </div>
</td>
</tr>
                <tr>
                    <td class="layout__item large-and-up-3/8">
                        <div>
                            <img id="DetailsImage" src="@Url.Content("~/Content/images/")SupperClubs/@Model.SupperClub.ImagePath" alt="" class="full-width" style="width:320px; height:320px;">
                        </div>
                    </td>
                    <td class="layout__item large-and-up-5/8">
                        <div>
                            <div class="chef-info">
                                <h1 class="h2 line-height-1-15 mb--">@Model.SupperClub.Name</h1>
                                <hr class="hr hr--dots mb--">
                                <div class="mb- relative large-and-up-pr++">
                                    <a href="#reviews" class="no-underline mr-" onclick="$('#tabreviews').click();return false;">
                                        <ul class=" rating inline-block">

                                            @for (int i = 0; i < 5; i++)
                                            {
                                                if (i < @Model.SupperClub.AverageRank)
                                                {
                                                    <li class="is-checked">

                                                        <svg role="img" class="icon ">
                                                            <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use>
                                                        </svg>
                                                    </li>
                                                }
                                                else
                                                {
                                                    <li class="">

                                                        <svg role="img" class="icon ">
                                                            <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use>
                                                        </svg>
                                                    </li>
                                                }

                                            }
                                        </ul>
                                    </a>



                                    <div class="block large-and-up-inline-block large-and-up-pr">
                                        <a href="#reviews" class="no-underline" onclick="$('#tabreviews').click(); return false;">
                                            <span class="type-small type-semibold">
                                                <svg role="img" class="icon mr--">
                                                    <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-bubble_icon"></use>
                                                </svg>
                                                @Model.SupperClub.NumberOfReviews Reviews
                                            </span>
                                        </a>
                                        <span class="type-small type-semibold">|</span>
                                        <a href="#followers" class="no-underline" onclick="$('#tabFollowers').click(); return false;"><span class=" type-small type-semibold"> @ViewBag.FollowersCount Followers</span></a>
                                    </div>
                                </div>
                                <hr class="hr hr--dots mb-">
                                <div class="chef-info__buttons_wide">
                                    @if (SupperClub.Code.UserMethods.IsLoggedIn && (SupperClub.Code.UserMethods.IsAdmin || SupperClub.Code.UserMethods.UserId == Model.SupperClub.UserId))
                                    {
                                        <a class="btn btn--primary btn--small btn--blue type-tiny large-and-up-float-right type-uppercase mr-" href="/@Model.SupperClub.UrlFriendlyName"> Public Profile</a>
                                        <a class="btn btn--primary btn--small btn--blue type-tiny large-and-up-float-right type-uppercase mr-" href="@Url.Action("HostProfile", "host", new { supperClubId = Model.SupperClub.Id })">Edit Profile</a>
                                        <a class="btn btn--primary btn--small btn--blue type-tiny large-and-up-float-right type-uppercase mr-" href="@Url.Action("MyProfile", "account", new { showGuest = true })">Diner Profile</a>
                                    }


                                    <div class="clearfix mb"></div>
                                </div>
                                <p class="mb">@Html.Raw(SupperClub.Domain.HtmlContentFormatter.GetSubString(Model.SupperClub.Summary, 250).Replace("\r\n", "<br />").Replace("\n", "<br />"))</p>


                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    @*<div class="text-right mb+ pt-">
    <span class="type-uppercase type-small type-semibold mr--">@Model.SupperClub.Name on the web</span>
    <a href="" class="no-underline mr--">
    <svg role="img" class="icon icon-20x20 color-gray">
    <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-earth_20x20"></use>
    </svg>
    </a>
    <a href="@Model.SupperClub.Twitter" class="no-underline mr--">
    <svg role="img" class="icon icon-20x16 color-gray">
    <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-twitter"></use>
    </svg>
    </a>
    <a href="@Model.SupperClub.Facebook" class="no-underline mr--">
    <svg role="img" class="icon icon-11x21 color-gray">
    <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-facebook"></use>
    </svg>
    </a>
    <a href="" class="no-underline mr--">
    <svg role="img" class="icon icon-20x20 color-gray">
    <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-instagram"></use>
    </svg>
    </a>
    <a href="" class="no-underline mr--">
    <svg role="img" class="icon icon-21x21 color-gray">
    <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-youtube"></use>
    </svg>
    </a>
    <a href="@Model.SupperClub.Pinterest" class="no-underline">
    <svg role="img" class="icon icon-15x20 color-gray">
    <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-pinterest"></use>
    </svg>
    </a>
    </div>*@
    <div class="tabs mb+" style="padding-top:15px;">

        <ul class="tabs__nav layout layout--flush">
            <li class="layout__item large-and-up-1/6"><a href="#Hosting" id="tabHosting">What’s On? <span>(@ViewBag.FutureEventCount)</span></a></li>
            <li class="layout__item large-and-up-1/6"><a href="#Details" id="tabDetails">Host Low-down </a></li>
            @*<li class="layout__item large-and-up-1/6"><a href="#tab-12">Grub Clubs <span>(17)</span></a></li>*@
            <li class="layout__item large-and-up-1/6"><a href="#reviews" id="tabreviews">Reviews <span>(@Model.SupperClub.NumberOfReviews)</span></a></li>
            @*<li class="layout__item large-and-up-1/6"><a href="#tab-14">Wishlist <span>(9)</span></a></li>
            <li class="layout__item large-and-up-1/6"><a href="#tab-15">Following <span>(4)</span></a></li>*@
            <li class="layout__item large-and-up-1/6"><a href="#Gallery" id="tabGallery">Gallery</a></li>
            <li class="layout__item large-and-up-1/6"><a href="#Followers" id="tabFollowers">Followers</a></li>
            <li class="layout__item large-and-up-1/6"><a href="#Faqs" id="tabFaqs">FAQs</a></li>
        </ul>
        <div id="Hosting" class="tab-item pt">
 
            <h2 class="h4 type-bold mb-" id="divUpcomingEvents">Upcoming Grub Clubs</h2>
            <div class="layout mb" id="DivFutureEvents">

            </div>
            <div class="text-center mb" id="btnFutureLoadMorediv" style="display:none">

                <button type="button" id="btnFutureLoadMore" class="btn btn--primary btn--radius btn--white">Load More</button>
            </div>

            <h2 class="h4 type-bold mb-" id="divPastEvents">Past Grub Clubs</h2>
            <div class="layout mb" id="DivPastEvents">

            </div>
            <div class="text-center mb" id="btnPastLoadMorediv" style="display:none">

                <button type="button" id="btnPastLoadMore" class="btn btn--primary btn--radius btn--white">Load More</button>
            </div>

            <h2 class="h4 type-bold mb-" id="RejectText">Diners will not be able to see any of your events listed below - only you as a Host can see this</h2>

            <h2 class="h4 type-bold mb-" id="divPrivateEvents" style="display:none;">Private Grub Clubs</h2>
            <div class="layout mb" id="DivPrivateEvents" style="display:none;">

            </div>
            <div class="text-center mb" id="btnPrivateLoadMorediv" style="display:none">

                <button type="button" id="btnPrivateLoadMore" class="btn btn--primary btn--radius btn--white">Load More</button>
            </div>

            <h2 class="h4 type-bold mb-" id="divCancelEvents" >Rejected And Cancelled Grub Clubs</h2>
            <div class="layout mb" id="DivCancelEvents">

            </div>
            <div class="text-center mb" id="btnCancelLoadMorediv" style="display:none">

                <button type="button" id="btnCancelLoadMore" class="btn btn--primary btn--radius btn--white">Load More</button>
            </div>

            <h2 class="h4 type-bold mb-" id="divNewEvents">Awaiting Approval</h2>
            <div class="layout mb" id="DivNewEvents">

            </div>
            <div class="text-center mb" id="btnNewLoadMorediv" style="display:none">

                <button type="button" id="btnNewLoadMore" class="btn btn--primary btn--radius btn--white">Load More</button>
            </div>

        </div>

        <div id="Details" class="tab-item pt">
            <h3 class="h4">In a Nutshell</h3>
            <p class="mb-">
                @Html.Raw("<p><span itemprop=\"description\">" + @Model.SupperClub.Summary.Replace("\r\n", "<br />").Replace("\n", "<br />") + "</span></p>")


            </p>
@if (Model.SupperClub.Description!= null)
                {
            <h3 class="h4">The Whole Hog</h3>
            <p class="mb-">
                <span itemprop="description">

 
                    @Html.Raw("<p><span itemprop=\"description\">" + @Model.SupperClub.Description.Replace("\r\n", "<br />").Replace("\n", "<br />") + "</span></p>")
               

                </span>
            </p>
                }
        </div>

        <div id="reviews" class="tab-item pt+" style="display:none">
            <div class="container container--small" id="DivReviews">


            </div>
            <div class="text-center mb" id="btnReviewsLoadMorediv" style="display:none">

                <button type="button" id="btnReviewLoadMore" class="btn btn--primary btn--radius btn--white">Load More</button>
            </div>
        </div>
        <div id="Gallery" class="tab-item pt+">
            @if (Model.SupperClub.SupperClubImages.Count() >= 10)
            {
            <h2 class="h3 mb- type-bold">Photos</h2>
            <div class="layout mb pb- gallery">
               
                @foreach (var item in @Model.SupperClub.SupperClubImages)
                {
                <div class="layout__item large-and-up-1/4 medium-1/2">
                    <a href="@Url.Content("~/Content/images/SupperClubs")/@item.ImagePath" class='border-gray display-block' title="A delicious photograph of food!" title="A delicious photograph of food!">
                        <img src="@Url.Content("~/Content/images/SupperClubs")/@item.ImagePath" alt="">
                    </a>
                </div>
                }
                </div>
            }
                else
                {
                    <h2 class="h3 mb- type-bold">Photos</h2>
                      <div class="layout mb pb- gallery"> 
                @foreach (var item in @Model.Images)
                {
                <div class="layout__item large-and-up-1/4 medium-1/2">
                    <a href="@Url.Content("~/Content/images")/@item" class='border-gray display-block' title="A delicious photograph of food!" title="A delicious photograph of food!">
                        <img src="@Url.Content("~/Content/images")/@item" alt="">
                    </a>
                </div>
                }
                

            </div>
}

        </div>
        <div id="Followers" class="tab-item pt">





        </div>
        <div id="Faqs" class="tab-item pt+">
            @Html.Partial("_HostFaqs")
        </div>
    </div>

    <!-- this variable is for footer top img -->
    @*<footer class="footer-main">

    @Html.Partial("_FooterNew")
    </footer>*@

    @*<div id="login-register" class="mfp-hide magnific-content max-width-820 bgr-gray border-width-3 border-black">
        <div class="layout">
            <div class="layout__item large-and-up-1/2">
                <div class="ph-">
                    <h1 class="type-light h2 mb-">Login</h1>
                    <p class="mb type-small semibold color-dark">Please log in to account to continue with your booking</p>
                    

                    @using (Html.BeginForm("LogIn", "Account", new { returnUrl = Url.Action("DetailsByName", "Host", new { hostname = Model.SupperClub.UrlFriendlyName }) }, FormMethod.Post, new { id = "loginForm" }))
                    {

                    <div>
                        <label>Your Email Address</label>
                        @Html.ValidationMessageFor(m => m.LogOnModel.UserName)
                        @Html.EditorFor(m => m.LogOnModel.UserName, new { @class = "input input--large input--primary mb--" })
                    </div>


                    <div>
                        @Html.LabelFor(m => m.LogOnModel.Password)
                        @Html.ValidationMessageFor(m => m.LogOnModel.Password)
                        @Html.PasswordFor(m => m.LogOnModel.Password, new { @class = "input input--large input--primary mb-" })
                    </div>
                    <input type="submit" class="btn btn--primary btn--large btn--h54 large-and-up-float-right mb+" id="btnLogin" value="Login" />

                                            }
                </div>
            </div>
            <div class="layout__item large-and-up-1/2">
                <div class="ph-">
                    <h1 class="type-light h2 mb-">Register</h1>
                    <p class="mb type-small semibold color-dark">Not a Grub Club member yet? Register your details below.</p>
                    @using (Html.BeginForm("Register", "Account", new { returnUrl = Url.Action("DetailsByName", "Host", new { hostname = Model.SupperClub.UrlFriendlyName }) }, FormMethod.Post, new { id = "RegisterForm" }))
                    {
                        

                    <div class="pl-">
                        <h1 class="type-light mb-">Register</h1>
                        <p class="mb h6 semibold color-dark">Not a Grub Club member yet? Register your details below.</p>

                        <div>
                            <label>First Name</label>
                            @Html.ValidationMessageFor(m => m.RegisterModel.FirstName)
                            @Html.EditorFor(m => m.RegisterModel.FirstName, new { @class = "input input--large input--primary mb" })
                        </div>
                        <div>
                            <label>Last Name</label>
                            @Html.ValidationMessageFor(m => m.RegisterModel.LastName)
                            @Html.EditorFor(m => m.RegisterModel.LastName, new { @class = "input input--large input--primary mb" })
                        </div>
                        <hr class="hr hr--dots mb">
                        <div>
                            <label>Your Email Address</label>
                            @Html.ValidationMessageFor(m => m.RegisterModel.Email)
                            @Html.EditorFor(m => m.RegisterModel.Email, new { @class = "input input--large input--primary mb" })
                        </div>
                        <div>
                            <label>Confirm Your Email Address</label>
                            @Html.ValidationMessageFor(m => m.RegisterModel.ConfirmEmail)
                            @Html.EditorFor(m => m.RegisterModel.ConfirmEmail, new { @class = "input input--large input--primary mb" })
                        </div>
                        <hr class="hr hr--dots mb">
                        <div>
                            <label>Password</label>
                            @Html.ValidationMessageFor(m => m.RegisterModel.Password)
                            @Html.PasswordFor(m => m.RegisterModel.Password, new { @class = "input input--large input--primary mb" })
                        </div>
                        <div>
                            <label>Confirm Your Password</label>
                            @Html.ValidationMessageFor(m => m.RegisterModel.ConfirmPassword)
                            @Html.PasswordFor(m => m.RegisterModel.ConfirmPassword, new { @class = "input input--large input--primary mb" })
                        </div>
                        <input type="submit" class="btn btn--primary btn--large btn--h54 large-and-up-float-right mb+" id="btnRegister" value="Register" />


                    </div>
                    }
                </div>
            </div>
        </div>
    </div>*@

    <script id="EventTemplate" type="text/x-jquery-tmpl">
        <div class="layout__item large-and-up-1/4 medium-1/2">
            <div class="search-result search-result--grid">
                <div class="search-result__box" style="height:300px; width:211px;">
                    <a href="/${chefUrlFriendlyName}/${urlFriendlyName}/${id}">
                        <figure>
                            <img src="@Url.Content("~/Content/images/")Events/${imageURL}" alt="" style="height:149px; width:211px;">
                            {{if isPrivate=="1"}}

                            <div class="figure__img-marker figure__img-marker--alternative">Private Event</div>
                            {{/if}}

                        </figure>
                    </a>
                    <header class='mb-'>
                        <a href="/${chefUrlFriendlyName}/${urlFriendlyName}/${id}"><h2 class="color-darken" style="height:50px;overflow:hidden;">${name}</h2></a>
                        <div class="justifize">
                            <div class="justifize__box">
                                <span>
                                    <a href="${reviewUrl}" onclick="$('#tabreviews').click();$('#lnkChef').focus(); return false;">
                                        {{if averageRank== 5}}
                                        <ul class="rating ">
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                        {{if averageRank== 4}}
                                        <ul class="rating ">
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                        {{if averageRank== 3}}
                                        <ul class="rating ">
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                        {{if averageRank== 2}}
                                        <ul class="rating ">
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                        {{if averageRank== 1}}
                                        <ul class="rating ">
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                        {{if averageRank==0}}
                                        <ul class="rating ">
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                    </a>
                                </span>
                            </div>
                            <div class="justifize__box">
                                <span class="color-gray">
                                    <a href="${reviewUrl}" onclick="$('#tabreviews').click();$('#lnkChef').focus(); return false;">
                                        <svg role="img" class="icon ">
                                            <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-bubble_icon"></use>
                                        </svg>
                                        ${reviewsCount}  Reviews
                                    </a>
                                </span>
                            </div>
                        </div>
                    </header>
                    <footer>
                        <div class="tableize tableize--bottom">
                            <div class="tableize__cell">
                                <div class="justifize">
                                    <div class="justifize__box">
                                        <span class="price">
                                            {{if ticketCost == "0.00"}}
                                            Free
                                            {{else}}

                                            £${ticketCost}
                                            {{/if}}
                                        </span>
                                    </div>
                                    <div class="justifize__box">
                                        <time>
                                            <svg role="img" class="icon ">
                                                <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-small_calendar"></use>
                                            </svg>
                                            ${startDateTime}
                                        </time>
                                        @*<a href="/Event/EditEvent?EventId=${eventId}" class="btn btn--primary btn--extra-small btn--h30">EDIT EVENT</a>*@
                                    </div>
                                </div>
                            </div>
                       </div>
                        <div class="tableize tableize--bottom">
                            <div class="tableize__cell">
                                <div class="justifize">
                                    <div class="justifize__box">
                                        <span style="color:red;font-weight:bold;">
                                            ${seatsSold}/${totalGuests} sold

                                        </span>
                                    </div>
                                    <div class="justifize__box">
                                        <a href="/event/details?eventid=${eventId}" class="btn btn--primary btn--small type-small mt--">EDIT EVENT</a>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </footer>
                </div>
            </div>
        </div>
    </script>

    <script id="PastEventTemplate" type="text/x-jquery-tmpl">
        <div class="layout__item large-and-up-1/4 medium-1/2">
            <div class="search-result search-result--grid">
                <div class="search-result__box" style="height:300px; width:211px;">
                    <a href="/${chefUrlFriendlyName}/${urlFriendlyName}/${id}">
                        <figure>
                            <img src="@Url.Content("~/Content/images/")Events/${imageURL}" alt="" style="height:149px; width:211px;">
                         
                            {{if isPrivate=="1"}}

                            <div class="figure__img-marker figure__img-marker--alternative">Private Event</div>
                            {{/if}}

                        </figure>
                    </a>
                    <header class='mb-'>
                        <a href="/${chefUrlFriendlyName}/${urlFriendlyName}/${id}"><h2 class="color-darken" style="height:50px;overflow:hidden;">${name}</h2></a>
                        <div class="justifize">
                            <div class="justifize__box">
                                <span>
                                    <a href="${reviewUrl}">
                                        {{if averageRank== 5}}
                                        <ul class="rating ">
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                        {{if averageRank== 4}}
                                        <ul class="rating ">
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                        {{if averageRank== 3}}
                                        <ul class="rating ">
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                        {{if averageRank== 2}}
                                        <ul class="rating ">
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                        {{if averageRank== 1}}
                                        <ul class="rating ">
                                            <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                        {{if averageRank==0}}
                                        <ul class="rating ">
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                            <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                                        </ul>
                                        {{/if}}
                                    </a>
                                </span>
                            </div>
                            <div class="justifize__box">
                                <span class="color-gray">
                                    <a href="${reviewUrl}">
                                        <svg role="img" class="icon ">
                                            <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-bubble_icon"></use>
                                        </svg>
                                        ${reviewsCount}  Reviews
                                    </a>
                                </span>
                            </div>
                        </div>
                    </header>
                    <footer>
                        <div class="tableize tableize--bottom">
                            <div class="tableize__cell">
                                <div class="justifize">
                                    <div class="justifize__box">
                                        <span class="price">
                                            {{if ticketCost == "0.00"}}
                                            Free
                                            {{else}}

                                            £${ticketCost}
                                            {{/if}}
                                        </span>
                                    </div>
                                    

                                    <div class="justifize__box">
                                        <time>
                                            <svg role="img" class="icon ">
                                                <use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-small_calendar"></use>
                                            </svg>
                                            ${startDateTime}
                                        </time>
                                        @*<a href="/Event/EditEvent?EventId=${eventId}" class="btn btn--primary btn--extra-small btn--h30">EDIT EVENT</a>*@
                                    </div>

                                   

                                </div>
                            </div>
                        </div>
                        <div class="tableize tableize--bottom">
                            <div class="tableize__cell">
                                <div class="justifize">
                                    <div class="justifize__box">
                                        <span style="color:red; font-weight:bold;">
                                            ${seatsSold}/${totalGuests} sold

                                        </span>
                                    </div>
                                    <div class="justifize__box">
                                        @*<a href="/Event/EditEvent?EventId=${eventId}" class="btn btn--primary btn--extra-small btn--h30">EDIT EVENT</a>*@
                                    </div>
                                </div>

                            </div>
                        </div>
                    </footer>
                </div>
            </div>
        </div>
    </script>

    <script id="ReviewTemplate" type="text/x-jquery-tmpl">

        <div class="flag flag--top flag--flush flag--responsive mb">
            <div class="flag__img ph">
                <img src="@Url.Content("~/Content/images/")placeholder-img2.jpg" alt="">
            </div>
            <div class="flag__body">
                <h3 class="h6 type-semibold">${Name}  &nbsp; &nbsp; &nbsp; <time>${createdDate}</time></h3>


                {{if rating== 5}}
                <ul class="rating ">
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                </ul>
                {{/if}}
                {{if rating== 4}}
                <ul class="rating ">
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                </ul>
                {{/if}}
                {{if rating== 3}}
                <ul class="rating ">
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                </ul>
                {{/if}}
                {{if rating== 2}}
                <ul class="rating ">
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                </ul>
                {{/if}}
                {{if rating== 1}}
                <ul class="rating ">
                    <li class="is-checked"><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                </ul>
                {{/if}}
                {{if rating== 0}}
                <ul class="rating ">
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                    <li class=""><svg role="img" class="icon "><use xlink:href="@Url.Content("~/Content/images/")icons.svg#icon-star"></use></svg></li>
                </ul>
                {{/if}}

                <p class="type-light">${review}</p>
            </div>
        </div>
    </script>


    <script id="FollowingTemplate" type="text/x-jquery-tmpl">


   </script>

        <div id="map-single-pin-wrap" class="map--single-pin-wrap mfp-hide magnific-content">
            <div id="map-single-pin" class="map--single-pin map--popup"></div>
            <button title="Close (Esc)" type="button" class="mfp-close">
                <span>
                    <svg role="img" class="icon">
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/content/images/icons/icons.svg#icon-X-close"></use>
                    </svg>
                </span>
            </button>
        </div>

        <div class="message-popup-wraper text-center" id="divMessage"></div>
        <span class="messages-popup messages-popup--added" id="wishMessage">
            <svg role="img" class="icon icon-heart">
                <use xlink:href="../content/images/icons/icons.svg#icon-heart"></use>
            </svg>
            Event is added to wish list!
        </span>
        <span class="messages-popup messages-popup--removed" id="removeWishMessage">
            <svg role="img" class="icon icon-heart-break">
                <use xlink:href="../content/images/icons/icons.svg#icon-heart-break"></use>
            </svg>
            Event is removed from wish list!
        </span>

        <span class="messages-popup messages-popup--added" id="followMessage">

            You are now following this chef!
        </span>
        <span class="messages-popup messages-popup--removed" id="unfollowMessage">

            You have stopped following this chef!
        </span>
